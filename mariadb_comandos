
// CREATE TABLE

CREATE TABLE IF NOT EXISTS CARGOS (
ID INT NOT NULL AUTO_INCREMENT,
NOME VARCHAR(100) NOT NULL,
UF VARCHAR(2) NOT NULL,
REGIAO VARCHAR(10) NOT NULL,
POPULACAO_2010 INT,
PORTE VARCHAR(20),
CAPITAL BOOLEAN,
PRIMARY KEY (ID));

CREATE TABLE IF NOT EXISTS T_CARGOS (
ID INT NOT NULL AUTO_INCREMENT,
NOME VARCHAR(20) NOT NULL,
PRIMARY KEY (ID));

CREATE TABLE IF NOT EXISTS T_RAMOS (
ID INT NOT NULL AUTO_INCREMENT,
NOME VARCHAR(50) NOT NULL,
DIMINUTIVO VARCHAR(10),
PRIMARY KEY (ID));

CREATE TABLE IF NOT EXISTS T_ESFERAS (
ID INT NOT NULL AUTO_INCREMENT,
NOME VARCHAR(50) NOT NULL,
PRIMARY KEY (ID));

CREATE TABLE IF NOT EXISTS T_PODERES (
ID INT NOT NULL AUTO_INCREMENT,
NOME VARCHAR(50) NOT NULL,
PRIMARY KEY (ID));

CREATE TABLE IF NOT EXISTS T_UF (
ID INT NOT NULL AUTO_INCREMENT,
SIGLA VARCHAR(2) NOT NULL,
NOME VARCHAR(50) NOT NULL,
PRIMARY KEY (ID));



// DROP TABLE

DRO TABLE CARGOS;




// INSERT INTO

INSERT INTO T_CARGOS (NOME) VALUES ('juiz');

INSERT INTO T_CARGOS VALUES (1, 'promotor');

INSERT INTO T_ESFERAS (NOME) VALUES ('federal');

INSERT INTO T_PODERES (NOME) VALUES ('executivo');

-- NAO FUNCIONOU: O SELECT TRAZ CAMPOS COM N# DE COLUNAS MENOR
INSERT INTO T_UF (SIGLA) VALUES (SELECT DISTINCT UF FROM T_MUNICIPIOS);
INSERT INTO T_UF SELECT DISTINCT UF FROM T_MUNICIPIOS;



// IMPORTANDO CSV

LOAD DATA INFILE '/tmp/UF_municipios_v2.csv'
INTO TABLE T_MUNICIPIOS
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(NOME,UF,REGIAO,POPULACAO_2010,PORTE,CAPITAL);

LOAD DATA INFILE '/tmp/uf2.csv'
INTO TABLE T_UF
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n'
(SIGLA,NOME);

LOAD DATA INFILE '/tmp/ramos.csv'
INTO TABLE T_RAMOS
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n'
(NOME);

LOAD DATA INFILE '/tmp/stf_sum.csv'
INTO TABLE T_STF_SUM
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(NUMERO,CONTEUDO);



// ALTER TABLE

ALTER TABLE T_MUNICIPIOS MODIFY REGIAO VARCHAR(20) NOT NULL;
ALTER TABLE T_SV MODIFY NUMERO VARCHAR(5) NOT NULL;
ALTER TABLE T_LEIS ADD CARACTERES INT(11);





// SELECT 

SELECT * FROM T_MUNICIPIOS WHERE REGIAO = 'Regi達o Sudeste';
SELECT * FROM T_MUNICIPIOS WHERE REGIAO LIKE 'Regi達o%';

SELECT * FROM T_MUNICIPIOS WHERE CAPITAL = '';

SELECT DISTINCT UF FROM T_MUNICIPIOS;






// UPDATE

UPDATE T_MUNICIPIOS
SET REGIAO = 'Norte'
WHERE REGIAO = 'Regi達o Norte';

UPDATE T_MUNICIPIOS SET REGIAO = 'Sudeste' WHERE REGIAO = 'Regi達o Sudeste';

UPDATE T_MUNICIPIOS SET CAPITAL = 'false' WHERE CAPITAL = '';

UPDATE T_RAMOS
SET DIMINUTIVO = 'econ'
WHERE NOME = 'economico';




// EXPORTANDO CSV

(SELECT 'NOME', 'UF', 'REGIAO', 'POPULACAO_2010', 'PORTE', 'CAPITAL')
UNION
SELECT NOME,
       UF,
       REGIAO,
       POPULACAO_2010,
       PORTE,
       CAPITAL
FROM T_MUNICIPIOS
INTO OUTFILE '/tmp/municipios.csv'
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n';

SELECT DISTINCT UF
FROM T_MUNICIPIOS
INTO OUTFILE '/tmp/uf.csv'
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n';




// ALTER TABLE





